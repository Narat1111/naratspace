// profile
const textArray = ["Developer.", "Designer.", "Gamer.", "Youtuber."];
const typedText = document.getElementById("typed-text");
let textIndex = 0;
let charIndex = 0;
let isDeleting = false;
let typingSpeed = 100;
let pauseAfterTyped = 2000;
function typeEffect() {
    const current = textArray[textIndex];
    if (!isDeleting) {
    typedText.textContent = current.substring(0, charIndex + 1);
    charIndex++;
    if (charIndex === current.length) {
        isDeleting = true;
        setTimeout(typeEffect, pauseAfterTyped);
        return;
    }
} else {
    typedText.textContent = current.substring(0, charIndex - 1);
    charIndex--;
    if (charIndex === 0) {
        isDeleting = false;
        textIndex = (textIndex + 1) % textArray.length;
    }
    }
    setTimeout(typeEffect, isDeleting ? 50 : typingSpeed);
}
document.addEventListener("DOMContentLoaded", typeEffect);

// warning
function showAlert() {
    document.getElementById('alertBox').style.display = 'flex';
}
function hideAlert() {
    document.getElementById('alertBox').style.display = 'none';
}

// time
const fmt = new Intl.DateTimeFormat('vi-VN', {
  hour: '2-digit', minute: '2-digit', second: '2-digit',
  day: '2-digit', month: '2-digit', year: 'numeric',
  hour12: false, timeZone: 'Asia/Ho_Chi_Minh'
});
setInterval(() => {
  const t = fmt.format(new Date());
  document.querySelectorAll('.auto-time').forEach(e => e.textContent = t);
}, 1000);

// Chặn chuột phải
document.addEventListener('contextmenu', e => e.preventDefault(), {capture:true});

// Chặn phím tắt phổ biến: F12, Ctrl+U, Ctrl+Shift+I/J, Ctrl+S/P...
document.addEventListener('keydown', e => {
  const k = e.key.toLowerCase();
  const block = 
    k === 'f12' ||
    (e.ctrlKey && ['u','s','p'].includes(k)) ||
    (e.ctrlKey && e.shiftKey && ['i','j'].includes(k));
  if (block) { 
    e.preventDefault(); 
    e.stopPropagation(); 
  }
}, {capture:true});
